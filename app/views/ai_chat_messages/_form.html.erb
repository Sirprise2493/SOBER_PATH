<%= simple_form_for(
      ai_chat_message,
      html: {
        id: "new_ai_chat_message",
        data: {
          controller: "reset-form",
          action: "turbo:submit-end->reset-form#reset"
        }
      }
    ) do |f| %>

  <div data-controller="emoji-picker">
    <div class="input-group mb-3 w-100">
      <div class="input-wrapper flex-grow-1">
        <%= f.input :message_content,
                    label: false,
                    wrapper: false,
                    placeholder: "How can I support you today?",
                    input_html: {
                      "data-emoji-picker-target": "input",
                      class: "form-control"
                    } %>
      </div>

      <button
        type="button"
        class="emoji-toggle"
        data-action="click->emoji-picker#toggle">
        ðŸ˜Š
      </button>

      <%= f.submit "Send", class: "btn btn-primary" %>
    </div>

    <%= render "user_chat_messages/emoji_panel" %>
  </div>
<% end %>
